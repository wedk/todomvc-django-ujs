!function(a,b){"use strict";a.rails!==b&&a.error("jquery-ujs has already been loaded!");var c,d=a(document);a.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return a("meta[name=csrf-token]").attr("content")},csrfParam:function(){return a("meta[name=csrf-param]").attr("content")},CSRFProtection:function(a){var b=c.csrfToken();b&&a.setRequestHeader("X-CSRF-Token",b)},refreshCSRFTokens:function(){a('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},confirm:function(a){return confirm(a)},ajax:function(b){return a.ajax(b)},href:function(a){return a[0].href},isRemote:function(a){return a.data("remote")!==b&&a.data("remote")!==!1},handleRemote:function(d){var e,f,g,h,i,j;if(c.fire(d,"ajax:before")){if(h=d.data("with-credentials")||null,i=d.data("type")||a.ajaxSettings&&a.ajaxSettings.dataType,d.is("form")){e=d.attr("method"),f=d.attr("action"),g=d.serializeArray();var k=d.data("ujs:submit-button");k&&(g.push(k),d.data("ujs:submit-button",null))}else d.is(c.inputChangeSelector)?(e=d.data("method"),f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):d.is(c.buttonClickSelector)?(e=d.data("method")||"get",f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):(e=d.data("method"),f=c.href(d),g=d.data("params")||null);return j={type:e||"GET",data:g,dataType:i,beforeSend:function(a,e){return e.dataType===b&&a.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),c.fire(d,"ajax:beforeSend",[a,e])?void d.trigger("ajax:send",a):!1},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])},crossDomain:c.isCrossDomain(f)},h&&(j.xhrFields={withCredentials:h}),f&&(j.url=f),c.ajax(j)}return!1},isCrossDomain:function(a){var b=document.createElement("a");b.href=location.href;var c=document.createElement("a");try{return c.href=a,c.href=c.href,!((!c.protocol||":"===c.protocol)&&!c.host||b.protocol+"//"+b.host==c.protocol+"//"+c.host)}catch(d){return!0}},handleMethod:function(d){var e=c.href(d),f=d.data("method"),g=d.attr("target"),h=c.csrfToken(),i=c.csrfParam(),j=a('<form method="post" action="'+e+'"></form>'),k='<input name="_method" value="'+f+'" type="hidden" />';i===b||h===b||c.isCrossDomain(e)||(k+='<input name="'+i+'" value="'+h+'" type="hidden" />'),g&&j.attr("target",g),j.hide().append(k).appendTo("body"),j.submit()},formElements:function(b,c){return b.is("form")?a(b[0].elements).filter(c):b.find(c)},disableFormElements:function(b){c.formElements(b,c.disableSelector).each(function(){c.disableFormElement(a(this))})},disableFormElement:function(a){var c,d;c=a.is("button")?"html":"val",d=a.data("disable-with"),a.data("ujs:enable-with",a[c]()),d!==b&&a[c](d),a.prop("disabled",!0)},enableFormElements:function(b){c.formElements(b,c.enableSelector).each(function(){c.enableFormElement(a(this))})},enableFormElement:function(a){var b=a.is("button")?"html":"val";"undefined"!=typeof a.data("ujs:enable-with")&&a[b](a.data("ujs:enable-with")),a.prop("disabled",!1)},allowAction:function(a){var b,d=a.data("confirm"),e=!1;if(!d)return!0;if(c.fire(a,"confirm")){try{e=c.confirm(d)}catch(f){(console.error||console.log).call(console,f.stack||f)}b=c.fire(a,"confirm:complete",[e])}return e&&b},blankInputs:function(b,c,d){var e,f,g=a(),h=c||"input,textarea",i=b.find(h);return i.each(function(){if(e=a(this),f=e.is("input[type=checkbox],input[type=radio]")?e.is(":checked"):!!e.val(),f===d){if(e.is("input[type=radio]")&&i.filter('input[type=radio]:checked[name="'+e.attr("name")+'"]').length)return!0;g=g.add(e)}}),g.length?g:!1},nonBlankInputs:function(a,b){return c.blankInputs(a,b,!0)},stopEverything:function(b){return a(b.target).trigger("ujs:everythingStopped"),b.stopImmediatePropagation(),!1},disableElement:function(a){var d=a.data("disable-with");a.data("ujs:enable-with",a.html()),d!==b&&a.html(d),a.bind("click.railsDisable",function(a){return c.stopEverything(a)})},enableElement:function(a){a.data("ujs:enable-with")!==b&&(a.html(a.data("ujs:enable-with")),a.removeData("ujs:enable-with")),a.unbind("click.railsDisable")}},c.fire(d,"rails:attachBindings")&&(a.ajaxPrefilter(function(a,b,d){a.crossDomain||c.CSRFProtection(d)}),a(window).on("pageshow.rails",function(){a(a.rails.enableSelector).each(function(){var b=a(this);b.data("ujs:enable-with")&&a.rails.enableFormElement(b)}),a(a.rails.linkDisableSelector).each(function(){var b=a(this);b.data("ujs:enable-with")&&a.rails.enableElement(b)})}),d.delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(a(this))}),d.delegate(c.buttonDisableSelector,"ajax:complete",function(){c.enableFormElement(a(this))}),d.delegate(c.linkClickSelector,"click.rails",function(b){var d=a(this),e=d.data("method"),f=d.data("params"),g=b.metaKey||b.ctrlKey;if(!c.allowAction(d))return c.stopEverything(b);if(!g&&d.is(c.linkDisableSelector)&&c.disableElement(d),c.isRemote(d)){if(g&&(!e||"GET"===e)&&!f)return!0;var h=c.handleRemote(d);return h===!1?c.enableElement(d):h.fail(function(){c.enableElement(d)}),!1}return e?(c.handleMethod(d),!1):void 0}),d.delegate(c.buttonClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d)||!c.isRemote(d))return c.stopEverything(b);d.is(c.buttonDisableSelector)&&c.disableFormElement(d);var e=c.handleRemote(d);return e===!1?c.enableFormElement(d):e.fail(function(){c.enableFormElement(d)}),!1}),d.delegate(c.inputChangeSelector,"change.rails",function(b){var d=a(this);return c.allowAction(d)&&c.isRemote(d)?(c.handleRemote(d),!1):c.stopEverything(b)}),d.delegate(c.formSubmitSelector,"submit.rails",function(d){var e,f,g=a(this),h=c.isRemote(g);if(!c.allowAction(g))return c.stopEverything(d);if(g.attr("novalidate")===b&&(e=c.blankInputs(g,c.requiredInputSelector,!1),e&&c.fire(g,"ajax:aborted:required",[e])))return c.stopEverything(d);if(h){if(f=c.nonBlankInputs(g,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(g)},13);var i=c.fire(g,"ajax:aborted:file",[f]);return i||setTimeout(function(){c.enableFormElements(g)},13),i}return c.handleRemote(g),!1}setTimeout(function(){c.disableFormElements(g)},13)}),d.delegate(c.formInputClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d))return c.stopEverything(b);var e=d.attr("name"),f=e?{name:e,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)}),d.delegate(c.formSubmitSelector,"ajax:send.rails",function(b){this===b.target&&c.disableFormElements(a(this))}),d.delegate(c.formSubmitSelector,"ajax:complete.rails",function(b){this===b.target&&c.enableFormElements(a(this))}),a(function(){c.refreshCSRFTokens()}))}(jQuery),$(function(){function a(a){var b=null;if(document.cookie&&""!=document.cookie)for(var c=document.cookie.split(";"),d=0;d<c.length;d++){var e=jQuery.trim(c[d]);if(e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}var b="csrftoken",c="csrfmiddlewaretoken",d=a(b);$("head").append('<meta name="csrf-param" content="'+c+'"><meta name="csrf-token" content="'+d+'">')}),$(function(){function a(){var a=$(this);a.addClass("editing"),setTimeout(function(){a.find("input.edit").focus()},13)}function b(a){a.parents(".editing").removeClass("editing")}$(".todoapp").on("dblclick","h1, .todo-list li",a).on("keydown","input.edit",function(a){if(27===a.keyCode){var c=$(this);c.val(c.attr("data-original-value")),b(c)}else 13===a.keyCode&&$(this).blur()}).on("blur","input.edit",function(){var a=$(this);a.val()===a.attr("data-original-value")?b(a):a.parents("form").submit()})});